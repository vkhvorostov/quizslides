# Use Cases: QuizSlides

---

## Use Case 1: Запуск живой сессии презентации

| Элемент | Описание |
| :--- | :--- |
| **Название** | Запуск живой сессии презентации |
| **Актор** | Презентатор, Участник |
| **Основной сценарий** | 1. Презентатор открывает созданную презентацию и нажимает кнопку **«Present»**.<br>2. Система переводит презентацию в статус **«Active»** и генерирует уникальный 6-значный код доступа.<br>3. Система открывает экран демонстрации с кодом и QR-кодом.<br>4. Участник заходит на главную страницу сайта и вводит код доступа.<br>5. Система проверяет существование активной сессии with таким кодом.<br>6. Система устанавливает WebSocket-соединение с устройством Участника.<br>7. Система определяет текущий активный слайд Презентатора.<br>8. Система отображает на устройстве Участника интерфейс, соответствующий типу текущего слайда. |
| **Альт. сценарии** | **Альт.1: Неверный код** (ветвление от шага 5).<br>5a. Система сообщает: *«Код не найден или сессия завершена»*.<br>5b. Участник остается на странице ввода кода.<br>**Альт.2: Требуется имя** (ветвление от шага 6).<br>6a. Система видит в настройках презентации флаг **«Identify participants»**.<br>6b. Система отображает Участнику форму ввода имени перед допуском к контенту. |
| **Негативный сценарий** | **Превышение лимита подключений** (вариант на шаге 5).<br>5a. Система определяет, что достигнут лимит участников для текущего тарифного плана владельца.<br>5b. Система выводит сообщение *«Комната заполнена»* и закрывает доступ новым участникам. |
| **Конечное состояние** | Презентатор видит количество подключенных участников; Участник видит актуальный контент первого слайда на своем экране. |

---

## Use Case 2: Проведение интерактивного опроса (Multiple Choice)

| Элемент | Описание |
| :--- | :--- |
| **Название** | Сбор ответов и визуализация результатов опроса |
| **Актор** | Участник, Презентатор, Система |
| **Основной сценарий** | 1. Презентатор переключается на слайд типа **«Опрос»**.<br>2. Система через WebSocket рассылает всем подключенным Участникам команду отобразить форму голосования.<br>3. Участник выбирает один из предложенных вариантов и нажимает **«Отправить»**.<br>4. Система проверяет, не истекло ли время на голосование (таймер).<br>5. Система сохраняет голос в БД, привязывая его к сессии и слайду.<br>6. Система пересчитывает агрегированную статистику ответов в реальном времени.<br>7. Система транслирует обновленные данные (проценты/столбцы) на главный экран Презентатора.<br>8. Система отображает Участнику экран подтверждения *«Голос принят»*. |
| **Альт. сценарии** | **Альт.1: Изменение выбора** (ветвление от шага 3).<br>3a. Если в настройках разрешена смена ответа, Участник нажимает **«Undo»**.<br>3b. Система удаляет предыдущую запись и возвращает к шагу 3. |
| **Негативный сценарий** | **Повторное голосование** (вариант на шаге 4).<br>4a. Система обнаруживает по сессионному ключу/ID, что Участник уже голосовал.<br>4b. Система блокирует кнопку отправки и выводит предупреждение *«Вы уже проголосовали»*. |
| **Конечное состояние** | В БД зафиксированы ответы; на экране Презентатора отображается динамически изменившаяся диаграмма. |

---

## Use Case 3: Создание и настройка слайда типа «Облако слов»

| Элемент | Описание |
| :--- | :--- |
| **Название** | Проектирование слайда для генерации облака тегов |
| **Актор** | Презентатор |
| **Основной сценарий** | 1. Презентатор в конструкторе нажимает **«Добавить слайд»** и выбирает **«Word Cloud»**.<br>2. Система создает новый объект в БД и открывает панель настроек.<br>3. Презентатор вводит основной вопрос (например, *«Опишите проект одним словом»*).<br>4. Презентатор устанавливает лимит: сколько слов может отправить один участник.<br>5. Презентатор включает тумблер **«Filter Profanity»** (фильтрация мата).<br>6. Система автоматически сохраняет изменения в фоне через AJAX/Fetch запрос.<br>7. Система обновляет миниатюру слайда в списке презентации. |
| **Альт. сценарии** | **Альт.1: Загрузка фонового изображения** (ветвление от шага 4).<br>4a. Презентатор выбирает загрузку фото.<br>4b. Система проверяет формат и сохраняет файл в Media-директорию Django.<br>4c. Система отображает превью изображения как фон для будущего облака слов. |
| **Негативный сценарий** | **Превышение лимита слайдов** (вариант на шаге 1).<br>1a. Система проверяет подписку пользователя и количество уже созданных слайдов.<br>1b. Система блокирует создание и предлагает удалить старые слайды или перейти на PRO-тариф. |
| **Конечное состояние** | Слайд настроен, параметры валидированы и сохранены в БД (модель **Slide**). |

---

## Use Case 4: Реальное взаимодействие: Отправка слов в облако

| Элемент | Описание |
| :--- | :--- |
| **Название** | Участие в формировании динамического облака слов |
| **Акторы** | Участник, Система |
| **Основной сценарий** | 1. Система отображает на устройстве Участника текстовые поля ввода (согласно лимиту из UC 3).<br>2. Участник вводит слова и нажимает **«Submit»**.<br>3. Система проверяет слова на соответствие фильтру ненормативной лексики.<br>4. Система сохраняет каждое слово как отдельную запись в БД, связанную с текущей сессией.<br>5. Система отправляет сигнал через Django Channels (WebSocket) на экран Презентатора.<br>6. Система на экране Презентатора мгновенно перерисовывает облако (увеличивая размер повторяющихся слов). |
| **Альт. сценарии** | **Альт.1: Пустой ввод** (ветвление от шага 2).<br>2a. Участник нажимает отправить, не заполнив поля.<br>2b. Система подсвечивает поля красным и выводит: *«Введите хотя бы одно слово»*. |
| **Негативный сценарий** | **Смена активного слайда** (вариант на шаге 3).<br>3a. Пока Участник писал, Презентатор переключил слайд.<br>3b. Система отклоняет запрос и уведомляет: *«Презентатор сменил слайд, голосование окончено»*. |
| **Конечное состояние** | Слова добавлены в общую визуализацию, Участник видит сообщение об успехе. |
